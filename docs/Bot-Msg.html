<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Bot.Msg</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Bot-Msg.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Bot.Msg</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Message structure</a><ul><li><a href="#g:2">Generic</a></li><li><a href="#g:3">Event</a></li><li><a href="#g:4">Client message</a></li></ul></li><li><a href="#g:5">Parsing and serialising</a></li><li><a href="#g:6">Parsing internals</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Defines the internal message/event structure, and implements parsing/serialising.</p><p>Server events are either messages that the bot has received from the server, like
a PRIVMSG, or other events like the bot starting up. They're parsed from the
textual line received by a parser using <code>Parsec</code>, and for common commands with
specific syntax, they're parsed in a detailed way.</p><p>Client messages are messages that will be sent to the server by the bot, usually
within a callback. Client messages can be sent generically, as a stock <code><a href="Bot-Msg.html#t:CMsg">CMsg</a></code>.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:User">User</a> = <a href="#v:User">User</a> {<ul class="subs"><li><a href="#v:nick">nick</a> :: String</li><li><a href="#v:user">user</a> :: Maybe String</li><li><a href="#v:host">host</a> :: Maybe String</li><li><a href="#v:statusCharL">statusCharL</a> :: [(<a href="Bot-Msg.html#t:Channel">Channel</a>, Char)]</li></ul>}</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:Channel">Channel</a> = <a href="#v:Channel">Channel</a> String</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:Server">Server</a> = <a href="#v:Server">Server</a> String</li><li class="src short"><span class="keyword">class</span> <a href="#t:SenderC">SenderC</a> a <span class="keyword">where</span><ul class="subs"></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:RecipientC">RecipientC</a> a <span class="keyword">where</span><ul class="subs"></ul></li><li class="src short"><a href="#v:fromS">fromS</a> :: <a href="Bot-Msg.html#t:SenderC">SenderC</a> a =&gt; <a href="Bot-Msg.html#t:Sender">Sender</a> -&gt; a</li><li class="src short"><a href="#v:fromR">fromR</a> :: <a href="Bot-Msg.html#t:RecipientC">RecipientC</a> a =&gt; <a href="Bot-Msg.html#t:Recipient">Recipient</a> -&gt; a</li><li class="src short"><a href="#v:toR">toR</a> :: <a href="Bot-Msg.html#t:RecipientC">RecipientC</a> a =&gt; a -&gt; <a href="Bot-Msg.html#t:Recipient">Recipient</a></li><li class="src short"><a href="#v:makeUser">makeUser</a> :: String -&gt; <a href="Bot-Msg.html#t:User">User</a></li><li class="src short"><a href="#v:makeUserH">makeUserH</a> :: String -&gt; String -&gt; String -&gt; <a href="Bot-Msg.html#t:User">User</a></li><li class="src short"><a href="#v:makeChannel">makeChannel</a> :: [Char] -&gt; <a href="Bot-Msg.html#t:Channel">Channel</a></li><li class="src short"><a href="#v:channelToStr">channelToStr</a> :: <a href="Bot-Msg.html#t:Channel">Channel</a> -&gt; [Char]</li><li class="src short"><span class="keyword">data</span> <a href="#t:SEvent">SEvent</a><ul class="subs"><li>= <a href="#v:SPing">SPing</a> { <ul class="subs"><li><a href="#v:srv">srv</a> :: String</li></ul> }</li><li>| <a href="#v:SNotice">SNotice</a> { <ul class="subs"><li><a href="#v:from">from</a> :: <a href="Bot-Msg.html#t:Sender">Sender</a></li><li><a href="#v:to">to</a> :: <a href="Bot-Msg.html#t:Recipient">Recipient</a></li><li><a href="#v:text">text</a> :: String</li></ul> }</li><li>| <a href="#v:SPrivmsg">SPrivmsg</a> { <ul class="subs"><li><a href="#v:from">from</a> :: <a href="Bot-Msg.html#t:Sender">Sender</a></li><li><a href="#v:to">to</a> :: <a href="Bot-Msg.html#t:Recipient">Recipient</a></li><li><a href="#v:text">text</a> :: String</li></ul> }</li><li>| <a href="#v:SNumeric">SNumeric</a> { <ul class="subs"><li><a href="#v:fromMaybe">fromMaybe</a> :: Maybe <a href="Bot-Msg.html#t:Sender">Sender</a></li><li><a href="#v:n">n</a> :: Int</li><li><a href="#v:args">args</a> :: [String]</li></ul> }</li><li>| <a href="#v:SJoin">SJoin</a> { <ul class="subs"><li><a href="#v:from">from</a> :: <a href="Bot-Msg.html#t:Sender">Sender</a></li><li><a href="#v:to">to</a> :: <a href="Bot-Msg.html#t:Recipient">Recipient</a></li></ul> }</li><li>| <a href="#v:SPart">SPart</a> { <ul class="subs"><li><a href="#v:from">from</a> :: <a href="Bot-Msg.html#t:Sender">Sender</a></li><li><a href="#v:to">to</a> :: <a href="Bot-Msg.html#t:Recipient">Recipient</a></li></ul> }</li><li>| <a href="#v:SKick">SKick</a> { <ul class="subs"><li><a href="#v:from">from</a> :: <a href="Bot-Msg.html#t:Sender">Sender</a></li><li><a href="#v:to">to</a> :: <a href="Bot-Msg.html#t:Recipient">Recipient</a></li><li><a href="#v:target">target</a> :: String</li><li><a href="#v:reason">reason</a> :: String</li></ul> }</li><li>| <a href="#v:SMode">SMode</a> { <ul class="subs"><li><a href="#v:from">from</a> :: <a href="Bot-Msg.html#t:Sender">Sender</a></li><li><a href="#v:modeTarget">modeTarget</a> :: <a href="Bot-Msg.html#t:Recipient">Recipient</a></li><li><a href="#v:modeChanges">modeChanges</a> :: String</li></ul> }</li><li>| <a href="#v:Startup">Startup</a></li><li>| <a href="#v:Connected">Connected</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Sender">Sender</a><ul class="subs"><li>= <a href="#v:SUser">SUser</a> String String String</li><li>| <a href="#v:SServer">SServer</a> String</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Recipient">Recipient</a><ul class="subs"><li>= <a href="#v:RUser">RUser</a> String</li><li>| <a href="#v:RChannel">RChannel</a> String</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:CMsg">CMsg</a> = <a href="#v:CMsg">CMsg</a> {<ul class="subs"><li><a href="#v:command">command</a> :: <a href="Bot-Msg.html#t:ClientCmd">ClientCmd</a></li><li><a href="#v:argsC">argsC</a> :: [String]</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:ClientCmd">ClientCmd</a><ul class="subs"><li>= <a href="#v:NICK">NICK</a></li><li>| <a href="#v:USER">USER</a></li><li>| <a href="#v:JOIN">JOIN</a></li><li>| <a href="#v:PONG">PONG</a></li><li>| <a href="#v:PRIVMSG">PRIVMSG</a></li><li>| <a href="#v:NAMES">NAMES</a></li><li>| <a href="#v:WHOIS">WHOIS</a></li><li>| <a href="#v:WHOWAS">WHOWAS</a></li><li>| <a href="#v:KICK">KICK</a></li><li>| <a href="#v:MODE">MODE</a></li></ul></li><li class="src short"><a href="#v:joinMsg">joinMsg</a> :: <a href="Bot-Msg.html#t:CMsg">CMsg</a> -&gt; String</li><li class="src short"><a href="#v:readMsg">readMsg</a> :: String -&gt; Either ParseError <a href="Bot-Msg.html#t:SEvent">SEvent</a></li><li class="src short"><a href="#v:parseMsg">parseMsg</a> :: Parser <a href="Bot-Msg.html#t:SEvent">SEvent</a></li><li class="src short"><a href="#v:parseSender">parseSender</a> :: Parser <a href="Bot-Msg.html#t:Sender">Sender</a></li><li class="src short"><a href="#v:parseRecipient">parseRecipient</a> :: Parser <a href="Bot-Msg.html#t:Recipient">Recipient</a></li><li class="src short"><a href="#v:parseArgs">parseArgs</a> :: Parser [String]</li><li class="src short"><a href="#v:parseUntil">parseUntil</a> :: String -&gt; Parser String</li><li class="src short"><a href="#v:parseWord">parseWord</a> :: Parser String</li></ul></div><div id="interface"><h1 id="g:1">Message structure</h1><h2 id="g:2">Generic</h2><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:User" class="def">User</a> <a href="#t:User" class="selflink">#</a></p><div class="doc"><p>A user with a nickname, and maybe user/host/other things. This
 is multipurpose, used just to indicate that some nick is a user 
 (when used with <code><a href="Bot-Msg.html#v:makeUser">makeUser</a></code>), or, e.g., as a result from a NAMES or
 WHOIS request containing more info about the user.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:User" class="def">User</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:nick" class="def">nick</a> :: String</dfn><div class="doc"><p>Nick</p></div></li><li><dfn class="src"><a id="v:user" class="def">user</a> :: Maybe String</dfn><div class="doc"><p>User, if we know it.</p></div></li><li><dfn class="src"><a id="v:host" class="def">host</a> :: Maybe String</dfn><div class="doc"><p>Host, if we know it.</p></div></li><li><dfn class="src"><a id="v:statusCharL" class="def">statusCharL</a> :: [(<a href="Bot-Msg.html#t:Channel">Channel</a>, Char)]</dfn><div class="doc"><p>A list of status prefixes that the user has in each channel that we know (e.g., @ for op). </p></div></li></ul></div></td></tr></table></div><div class="subs instances"><p id="control.i:User" class="caption collapser" onclick="toggleSection('i:User')">Instances</p><div id="section.i:User" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:User:Eq:1" class="instance expander" onclick="toggleSection('i:id:User:Eq:1')"></span> Eq <a href="Bot-Msg.html#t:User">User</a></span> <a href="#t:User" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:User:Eq:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Bot-Msg.html#t:User">User</a> -&gt; <a href="Bot-Msg.html#t:User">User</a> -&gt; Bool</p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Bot-Msg.html#t:User">User</a> -&gt; <a href="Bot-Msg.html#t:User">User</a> -&gt; Bool</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:User:Read:2" class="instance expander" onclick="toggleSection('i:id:User:Read:2')"></span> Read <a href="Bot-Msg.html#t:User">User</a></span> <a href="#t:User" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:User:Read:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:readsPrec">readsPrec</a> :: Int -&gt; ReadS <a href="Bot-Msg.html#t:User">User</a></p><p class="src"><a href="#v:readList">readList</a> :: ReadS [<a href="Bot-Msg.html#t:User">User</a>]</p><p class="src"><a href="#v:readPrec">readPrec</a> :: ReadPrec <a href="Bot-Msg.html#t:User">User</a></p><p class="src"><a href="#v:readListPrec">readListPrec</a> :: ReadPrec [<a href="Bot-Msg.html#t:User">User</a>]</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:User:Show:3" class="instance expander" onclick="toggleSection('i:id:User:Show:3')"></span> Show <a href="Bot-Msg.html#t:User">User</a></span> <a href="#t:User" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:User:Show:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Bot-Msg.html#t:User">User</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Bot-Msg.html#t:User">User</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Bot-Msg.html#t:User">User</a>] -&gt; ShowS</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:User:SenderC:4" class="instance expander" onclick="toggleSection('i:id:User:SenderC:4')"></span> <a href="Bot-Msg.html#t:SenderC">SenderC</a> <a href="Bot-Msg.html#t:User">User</a></span> <a href="#t:User" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:User:SenderC:4" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fromS">fromS</a> :: <a href="Bot-Msg.html#t:Sender">Sender</a> -&gt; <a href="Bot-Msg.html#t:User">User</a> <a href="#v:fromS" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:User:RecipientC:5" class="instance expander" onclick="toggleSection('i:id:User:RecipientC:5')"></span> <a href="Bot-Msg.html#t:RecipientC">RecipientC</a> <a href="Bot-Msg.html#t:User">User</a></span> <a href="#t:User" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:User:RecipientC:5" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fromR">fromR</a> :: <a href="Bot-Msg.html#t:Recipient">Recipient</a> -&gt; <a href="Bot-Msg.html#t:User">User</a> <a href="#v:fromR" class="selflink">#</a></p><p class="src"><a href="#v:toR">toR</a> :: <a href="Bot-Msg.html#t:User">User</a> -&gt; <a href="Bot-Msg.html#t:Recipient">Recipient</a> <a href="#v:toR" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:Channel" class="def">Channel</a> <a href="#t:Channel" class="selflink">#</a></p><div class="doc"><p>A channel; the string doesn't include the <code>#</code> prefix.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Channel" class="def">Channel</a> String</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Channel" class="caption collapser" onclick="toggleSection('i:Channel')">Instances</p><div id="section.i:Channel" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Channel:Eq:1" class="instance expander" onclick="toggleSection('i:id:Channel:Eq:1')"></span> Eq <a href="Bot-Msg.html#t:Channel">Channel</a></span> <a href="#t:Channel" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Channel:Eq:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Bot-Msg.html#t:Channel">Channel</a> -&gt; <a href="Bot-Msg.html#t:Channel">Channel</a> -&gt; Bool</p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Bot-Msg.html#t:Channel">Channel</a> -&gt; <a href="Bot-Msg.html#t:Channel">Channel</a> -&gt; Bool</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Channel:Read:2" class="instance expander" onclick="toggleSection('i:id:Channel:Read:2')"></span> Read <a href="Bot-Msg.html#t:Channel">Channel</a></span> <a href="#t:Channel" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Channel:Read:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:readsPrec">readsPrec</a> :: Int -&gt; ReadS <a href="Bot-Msg.html#t:Channel">Channel</a></p><p class="src"><a href="#v:readList">readList</a> :: ReadS [<a href="Bot-Msg.html#t:Channel">Channel</a>]</p><p class="src"><a href="#v:readPrec">readPrec</a> :: ReadPrec <a href="Bot-Msg.html#t:Channel">Channel</a></p><p class="src"><a href="#v:readListPrec">readListPrec</a> :: ReadPrec [<a href="Bot-Msg.html#t:Channel">Channel</a>]</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Channel:Show:3" class="instance expander" onclick="toggleSection('i:id:Channel:Show:3')"></span> Show <a href="Bot-Msg.html#t:Channel">Channel</a></span> <a href="#t:Channel" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Channel:Show:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Bot-Msg.html#t:Channel">Channel</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Bot-Msg.html#t:Channel">Channel</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Bot-Msg.html#t:Channel">Channel</a>] -&gt; ShowS</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Channel:RecipientC:4" class="instance expander" onclick="toggleSection('i:id:Channel:RecipientC:4')"></span> <a href="Bot-Msg.html#t:RecipientC">RecipientC</a> <a href="Bot-Msg.html#t:Channel">Channel</a></span> <a href="#t:Channel" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Channel:RecipientC:4" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fromR">fromR</a> :: <a href="Bot-Msg.html#t:Recipient">Recipient</a> -&gt; <a href="Bot-Msg.html#t:Channel">Channel</a> <a href="#v:fromR" class="selflink">#</a></p><p class="src"><a href="#v:toR">toR</a> :: <a href="Bot-Msg.html#t:Channel">Channel</a> -&gt; <a href="Bot-Msg.html#t:Recipient">Recipient</a> <a href="#v:toR" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:Server" class="def">Server</a> <a href="#t:Server" class="selflink">#</a></p><div class="doc"><p>A server and its hostname.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Server" class="def">Server</a> String</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Server" class="caption collapser" onclick="toggleSection('i:Server')">Instances</p><div id="section.i:Server" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Server:Eq:1" class="instance expander" onclick="toggleSection('i:id:Server:Eq:1')"></span> Eq <a href="Bot-Msg.html#t:Server">Server</a></span> <a href="#t:Server" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Server:Eq:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Bot-Msg.html#t:Server">Server</a> -&gt; <a href="Bot-Msg.html#t:Server">Server</a> -&gt; Bool</p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Bot-Msg.html#t:Server">Server</a> -&gt; <a href="Bot-Msg.html#t:Server">Server</a> -&gt; Bool</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Server:Read:2" class="instance expander" onclick="toggleSection('i:id:Server:Read:2')"></span> Read <a href="Bot-Msg.html#t:Server">Server</a></span> <a href="#t:Server" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Server:Read:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:readsPrec">readsPrec</a> :: Int -&gt; ReadS <a href="Bot-Msg.html#t:Server">Server</a></p><p class="src"><a href="#v:readList">readList</a> :: ReadS [<a href="Bot-Msg.html#t:Server">Server</a>]</p><p class="src"><a href="#v:readPrec">readPrec</a> :: ReadPrec <a href="Bot-Msg.html#t:Server">Server</a></p><p class="src"><a href="#v:readListPrec">readListPrec</a> :: ReadPrec [<a href="Bot-Msg.html#t:Server">Server</a>]</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Server:Show:3" class="instance expander" onclick="toggleSection('i:id:Server:Show:3')"></span> Show <a href="Bot-Msg.html#t:Server">Server</a></span> <a href="#t:Server" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Server:Show:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Bot-Msg.html#t:Server">Server</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Bot-Msg.html#t:Server">Server</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Bot-Msg.html#t:Server">Server</a>] -&gt; ShowS</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Server:SenderC:4" class="instance expander" onclick="toggleSection('i:id:Server:SenderC:4')"></span> <a href="Bot-Msg.html#t:SenderC">SenderC</a> <a href="Bot-Msg.html#t:Server">Server</a></span> <a href="#t:Server" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Server:SenderC:4" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fromS">fromS</a> :: <a href="Bot-Msg.html#t:Sender">Sender</a> -&gt; <a href="Bot-Msg.html#t:Server">Server</a> <a href="#v:fromS" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:SenderC" class="def">SenderC</a> a <span class="keyword">where</span> <a href="#t:SenderC" class="selflink">#</a></p><div class="doc"><p>Sender class: <code><a href="Bot-Msg.html#t:User">User</a></code> and <code><a href="Bot-Msg.html#t:Server">Server</a></code> can both be senders
 in a message (see <code><a href="Bot-Msg.html#t:Sender">Sender</a></code>).</p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Bot-Msg.html#v:fromS">fromS</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:fromS" class="def">fromS</a> :: <a href="Bot-Msg.html#t:Sender">Sender</a> -&gt; a <a href="#v:fromS" class="selflink">#</a></p><div class="doc"><p><code><a href="Bot-Msg.html#t:Sender">Sender</a></code> to <code><a href="Bot-Msg.html#t:User">User</a></code> or <code><a href="Bot-Msg.html#t:Server">Server</a></code></p></div></div><div class="subs instances"><p id="control.i:SenderC" class="caption collapser" onclick="toggleSection('i:SenderC')">Instances</p><div id="section.i:SenderC" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:SenderC:SenderC:1" class="instance expander" onclick="toggleSection('i:ic:SenderC:SenderC:1')"></span> <a href="Bot-Msg.html#t:SenderC">SenderC</a> <a href="Bot-Msg.html#t:Server">Server</a></span> <a href="#t:SenderC" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:SenderC:SenderC:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fromS">fromS</a> :: <a href="Bot-Msg.html#t:Sender">Sender</a> -&gt; <a href="Bot-Msg.html#t:Server">Server</a> <a href="#v:fromS" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:SenderC:SenderC:2" class="instance expander" onclick="toggleSection('i:ic:SenderC:SenderC:2')"></span> <a href="Bot-Msg.html#t:SenderC">SenderC</a> <a href="Bot-Msg.html#t:User">User</a></span> <a href="#t:SenderC" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:SenderC:SenderC:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fromS">fromS</a> :: <a href="Bot-Msg.html#t:Sender">Sender</a> -&gt; <a href="Bot-Msg.html#t:User">User</a> <a href="#v:fromS" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:RecipientC" class="def">RecipientC</a> a <span class="keyword">where</span> <a href="#t:RecipientC" class="selflink">#</a></p><div class="doc"><p>Recipient class: <code><a href="Bot-Msg.html#t:User">User</a></code> and <code><a href="Bot-Msg.html#t:Channel">Channel</a></code> can both be recipients
 in a message (see <code><a href="Bot-Msg.html#t:Recipient">Recipient</a></code>).</p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Bot-Msg.html#v:fromR">fromR</a>, <a href="Bot-Msg.html#v:toR">toR</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:fromR" class="def">fromR</a> :: <a href="Bot-Msg.html#t:Recipient">Recipient</a> -&gt; a <a href="#v:fromR" class="selflink">#</a></p><div class="doc"><p><code><a href="Bot-Msg.html#t:Recipient">Recipient</a></code> to <code><a href="Bot-Msg.html#t:User">User</a></code> or <code><a href="Bot-Msg.html#t:Channel">Channel</a></code></p></div><p class="src"><a id="v:toR" class="def">toR</a> :: a -&gt; <a href="Bot-Msg.html#t:Recipient">Recipient</a> <a href="#v:toR" class="selflink">#</a></p><div class="doc"><p><code><a href="Bot-Msg.html#t:User">User</a></code> or <code><a href="Bot-Msg.html#t:Channel">Channel</a></code> to <code><a href="Bot-Msg.html#t:Recipient">Recipient</a></code></p></div></div><div class="subs instances"><p id="control.i:RecipientC" class="caption collapser" onclick="toggleSection('i:RecipientC')">Instances</p><div id="section.i:RecipientC" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:RecipientC:RecipientC:1" class="instance expander" onclick="toggleSection('i:ic:RecipientC:RecipientC:1')"></span> <a href="Bot-Msg.html#t:RecipientC">RecipientC</a> <a href="Bot-Msg.html#t:Recipient">Recipient</a></span> <a href="#t:RecipientC" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:RecipientC:RecipientC:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fromR">fromR</a> :: <a href="Bot-Msg.html#t:Recipient">Recipient</a> -&gt; <a href="Bot-Msg.html#t:Recipient">Recipient</a> <a href="#v:fromR" class="selflink">#</a></p><p class="src"><a href="#v:toR">toR</a> :: <a href="Bot-Msg.html#t:Recipient">Recipient</a> -&gt; <a href="Bot-Msg.html#t:Recipient">Recipient</a> <a href="#v:toR" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:RecipientC:RecipientC:2" class="instance expander" onclick="toggleSection('i:ic:RecipientC:RecipientC:2')"></span> <a href="Bot-Msg.html#t:RecipientC">RecipientC</a> <a href="Bot-Msg.html#t:Channel">Channel</a></span> <a href="#t:RecipientC" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:RecipientC:RecipientC:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fromR">fromR</a> :: <a href="Bot-Msg.html#t:Recipient">Recipient</a> -&gt; <a href="Bot-Msg.html#t:Channel">Channel</a> <a href="#v:fromR" class="selflink">#</a></p><p class="src"><a href="#v:toR">toR</a> :: <a href="Bot-Msg.html#t:Channel">Channel</a> -&gt; <a href="Bot-Msg.html#t:Recipient">Recipient</a> <a href="#v:toR" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:RecipientC:RecipientC:3" class="instance expander" onclick="toggleSection('i:ic:RecipientC:RecipientC:3')"></span> <a href="Bot-Msg.html#t:RecipientC">RecipientC</a> <a href="Bot-Msg.html#t:User">User</a></span> <a href="#t:RecipientC" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:RecipientC:RecipientC:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fromR">fromR</a> :: <a href="Bot-Msg.html#t:Recipient">Recipient</a> -&gt; <a href="Bot-Msg.html#t:User">User</a> <a href="#v:fromR" class="selflink">#</a></p><p class="src"><a href="#v:toR">toR</a> :: <a href="Bot-Msg.html#t:User">User</a> -&gt; <a href="Bot-Msg.html#t:Recipient">Recipient</a> <a href="#v:toR" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:fromS" class="def">fromS</a> :: <a href="Bot-Msg.html#t:SenderC">SenderC</a> a =&gt; <a href="Bot-Msg.html#t:Sender">Sender</a> -&gt; a <a href="#v:fromS" class="selflink">#</a></p><div class="doc"><p><code><a href="Bot-Msg.html#t:Sender">Sender</a></code> to <code><a href="Bot-Msg.html#t:User">User</a></code> or <code><a href="Bot-Msg.html#t:Server">Server</a></code></p></div></div><div class="top"><p class="src"><a id="v:fromR" class="def">fromR</a> :: <a href="Bot-Msg.html#t:RecipientC">RecipientC</a> a =&gt; <a href="Bot-Msg.html#t:Recipient">Recipient</a> -&gt; a <a href="#v:fromR" class="selflink">#</a></p><div class="doc"><p><code><a href="Bot-Msg.html#t:Recipient">Recipient</a></code> to <code><a href="Bot-Msg.html#t:User">User</a></code> or <code><a href="Bot-Msg.html#t:Channel">Channel</a></code></p></div></div><div class="top"><p class="src"><a id="v:toR" class="def">toR</a> :: <a href="Bot-Msg.html#t:RecipientC">RecipientC</a> a =&gt; a -&gt; <a href="Bot-Msg.html#t:Recipient">Recipient</a> <a href="#v:toR" class="selflink">#</a></p><div class="doc"><p><code><a href="Bot-Msg.html#t:User">User</a></code> or <code><a href="Bot-Msg.html#t:Channel">Channel</a></code> to <code><a href="Bot-Msg.html#t:Recipient">Recipient</a></code></p></div></div><div class="top"><p class="src"><a id="v:makeUser" class="def">makeUser</a> :: String -&gt; <a href="Bot-Msg.html#t:User">User</a> <a href="#v:makeUser" class="selflink">#</a></p><div class="doc"><p>Make a user struct from just a nick.</p></div></div><div class="top"><p class="src"><a id="v:makeUserH" class="def">makeUserH</a> :: String -&gt; String -&gt; String -&gt; <a href="Bot-Msg.html#t:User">User</a> <a href="#v:makeUserH" class="selflink">#</a></p><div class="doc"><p>Make a user struct from a nick, user string and host string.</p></div></div><div class="top"><p class="src"><a id="v:makeChannel" class="def">makeChannel</a> :: [Char] -&gt; <a href="Bot-Msg.html#t:Channel">Channel</a> <a href="#v:makeChannel" class="selflink">#</a></p><div class="doc"><p>Take a channel name of the form &quot;#chan&quot; and create a <code><a href="Bot-Msg.html#t:Channel">Channel</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:channelToStr" class="def">channelToStr</a> :: <a href="Bot-Msg.html#t:Channel">Channel</a> -&gt; [Char] <a href="#v:channelToStr" class="selflink">#</a></p><div class="doc"><p>Turn a <code><a href="Bot-Msg.html#t:Channel">Channel</a></code> into a channel name of the form &quot;#chan&quot;.</p></div></div><h2 id="g:3">Event</h2><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SEvent" class="def">SEvent</a> <a href="#t:SEvent" class="selflink">#</a></p><div class="doc"><p>Events: a message that's been sent by the server and received by the
 client, or an event initiated on the bot side like startup. The messages have
 detailed structures; they're parsed into easily usable forms for callbacks.
 The exception is <code><a href="Bot-Msg.html#v:SNumeric">SNumeric</a></code>, which is generic for all numeric messages and
 may have any number of arguments.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SPing" class="def">SPing</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:srv" class="def">srv</a> :: String</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:SNotice" class="def">SNotice</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:from" class="def">from</a> :: <a href="Bot-Msg.html#t:Sender">Sender</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:to" class="def">to</a> :: <a href="Bot-Msg.html#t:Recipient">Recipient</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:text" class="def">text</a> :: String</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:SPrivmsg" class="def">SPrivmsg</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:from" class="def">from</a> :: <a href="Bot-Msg.html#t:Sender">Sender</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:to" class="def">to</a> :: <a href="Bot-Msg.html#t:Recipient">Recipient</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:text" class="def">text</a> :: String</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:SNumeric" class="def">SNumeric</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:fromMaybe" class="def">fromMaybe</a> :: Maybe <a href="Bot-Msg.html#t:Sender">Sender</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:n" class="def">n</a> :: Int</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:args" class="def">args</a> :: [String]</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:SJoin" class="def">SJoin</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:from" class="def">from</a> :: <a href="Bot-Msg.html#t:Sender">Sender</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:to" class="def">to</a> :: <a href="Bot-Msg.html#t:Recipient">Recipient</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:SPart" class="def">SPart</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:from" class="def">from</a> :: <a href="Bot-Msg.html#t:Sender">Sender</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:to" class="def">to</a> :: <a href="Bot-Msg.html#t:Recipient">Recipient</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:SKick" class="def">SKick</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:from" class="def">from</a> :: <a href="Bot-Msg.html#t:Sender">Sender</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:to" class="def">to</a> :: <a href="Bot-Msg.html#t:Recipient">Recipient</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:target" class="def">target</a> :: String</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:reason" class="def">reason</a> :: String</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:SMode" class="def">SMode</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:from" class="def">from</a> :: <a href="Bot-Msg.html#t:Sender">Sender</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:modeTarget" class="def">modeTarget</a> :: <a href="Bot-Msg.html#t:Recipient">Recipient</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:modeChanges" class="def">modeChanges</a> :: String</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:Startup" class="def">Startup</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Connected" class="def">Connected</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:SEvent" class="caption collapser" onclick="toggleSection('i:SEvent')">Instances</p><div id="section.i:SEvent" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:SEvent:Eq:1" class="instance expander" onclick="toggleSection('i:id:SEvent:Eq:1')"></span> Eq <a href="Bot-Msg.html#t:SEvent">SEvent</a></span> <a href="#t:SEvent" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:SEvent:Eq:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Bot-Msg.html#t:SEvent">SEvent</a> -&gt; <a href="Bot-Msg.html#t:SEvent">SEvent</a> -&gt; Bool</p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Bot-Msg.html#t:SEvent">SEvent</a> -&gt; <a href="Bot-Msg.html#t:SEvent">SEvent</a> -&gt; Bool</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:SEvent:Read:2" class="instance expander" onclick="toggleSection('i:id:SEvent:Read:2')"></span> Read <a href="Bot-Msg.html#t:SEvent">SEvent</a></span> <a href="#t:SEvent" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:SEvent:Read:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:readsPrec">readsPrec</a> :: Int -&gt; ReadS <a href="Bot-Msg.html#t:SEvent">SEvent</a></p><p class="src"><a href="#v:readList">readList</a> :: ReadS [<a href="Bot-Msg.html#t:SEvent">SEvent</a>]</p><p class="src"><a href="#v:readPrec">readPrec</a> :: ReadPrec <a href="Bot-Msg.html#t:SEvent">SEvent</a></p><p class="src"><a href="#v:readListPrec">readListPrec</a> :: ReadPrec [<a href="Bot-Msg.html#t:SEvent">SEvent</a>]</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:SEvent:Show:3" class="instance expander" onclick="toggleSection('i:id:SEvent:Show:3')"></span> Show <a href="Bot-Msg.html#t:SEvent">SEvent</a></span> <a href="#t:SEvent" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:SEvent:Show:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Bot-Msg.html#t:SEvent">SEvent</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Bot-Msg.html#t:SEvent">SEvent</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Bot-Msg.html#t:SEvent">SEvent</a>] -&gt; ShowS</p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Sender" class="def">Sender</a> <a href="#t:Sender" class="selflink">#</a></p><div class="doc"><p>Sender field - can be either user or server.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SUser" class="def">SUser</a> String String String</td><td class="doc"><p>nick, user, host</p></td></tr><tr><td class="src"><a id="v:SServer" class="def">SServer</a> String</td><td class="doc"><p>host</p></td></tr></table></div><div class="subs instances"><p id="control.i:Sender" class="caption collapser" onclick="toggleSection('i:Sender')">Instances</p><div id="section.i:Sender" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Sender:Eq:1" class="instance expander" onclick="toggleSection('i:id:Sender:Eq:1')"></span> Eq <a href="Bot-Msg.html#t:Sender">Sender</a></span> <a href="#t:Sender" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Sender:Eq:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Bot-Msg.html#t:Sender">Sender</a> -&gt; <a href="Bot-Msg.html#t:Sender">Sender</a> -&gt; Bool</p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Bot-Msg.html#t:Sender">Sender</a> -&gt; <a href="Bot-Msg.html#t:Sender">Sender</a> -&gt; Bool</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Sender:Read:2" class="instance expander" onclick="toggleSection('i:id:Sender:Read:2')"></span> Read <a href="Bot-Msg.html#t:Sender">Sender</a></span> <a href="#t:Sender" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Sender:Read:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:readsPrec">readsPrec</a> :: Int -&gt; ReadS <a href="Bot-Msg.html#t:Sender">Sender</a></p><p class="src"><a href="#v:readList">readList</a> :: ReadS [<a href="Bot-Msg.html#t:Sender">Sender</a>]</p><p class="src"><a href="#v:readPrec">readPrec</a> :: ReadPrec <a href="Bot-Msg.html#t:Sender">Sender</a></p><p class="src"><a href="#v:readListPrec">readListPrec</a> :: ReadPrec [<a href="Bot-Msg.html#t:Sender">Sender</a>]</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Sender:Show:3" class="instance expander" onclick="toggleSection('i:id:Sender:Show:3')"></span> Show <a href="Bot-Msg.html#t:Sender">Sender</a></span> <a href="#t:Sender" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Sender:Show:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Bot-Msg.html#t:Sender">Sender</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Bot-Msg.html#t:Sender">Sender</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Bot-Msg.html#t:Sender">Sender</a>] -&gt; ShowS</p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Recipient" class="def">Recipient</a> <a href="#t:Recipient" class="selflink">#</a></p><div class="doc"><p>Recipient field - can either be user or channel.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:RUser" class="def">RUser</a> String</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:RChannel" class="def">RChannel</a> String</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Recipient" class="caption collapser" onclick="toggleSection('i:Recipient')">Instances</p><div id="section.i:Recipient" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Recipient:Eq:1" class="instance expander" onclick="toggleSection('i:id:Recipient:Eq:1')"></span> Eq <a href="Bot-Msg.html#t:Recipient">Recipient</a></span> <a href="#t:Recipient" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Recipient:Eq:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Bot-Msg.html#t:Recipient">Recipient</a> -&gt; <a href="Bot-Msg.html#t:Recipient">Recipient</a> -&gt; Bool</p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Bot-Msg.html#t:Recipient">Recipient</a> -&gt; <a href="Bot-Msg.html#t:Recipient">Recipient</a> -&gt; Bool</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Recipient:Read:2" class="instance expander" onclick="toggleSection('i:id:Recipient:Read:2')"></span> Read <a href="Bot-Msg.html#t:Recipient">Recipient</a></span> <a href="#t:Recipient" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Recipient:Read:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:readsPrec">readsPrec</a> :: Int -&gt; ReadS <a href="Bot-Msg.html#t:Recipient">Recipient</a></p><p class="src"><a href="#v:readList">readList</a> :: ReadS [<a href="Bot-Msg.html#t:Recipient">Recipient</a>]</p><p class="src"><a href="#v:readPrec">readPrec</a> :: ReadPrec <a href="Bot-Msg.html#t:Recipient">Recipient</a></p><p class="src"><a href="#v:readListPrec">readListPrec</a> :: ReadPrec [<a href="Bot-Msg.html#t:Recipient">Recipient</a>]</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Recipient:Show:3" class="instance expander" onclick="toggleSection('i:id:Recipient:Show:3')"></span> Show <a href="Bot-Msg.html#t:Recipient">Recipient</a></span> <a href="#t:Recipient" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Recipient:Show:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Bot-Msg.html#t:Recipient">Recipient</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Bot-Msg.html#t:Recipient">Recipient</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Bot-Msg.html#t:Recipient">Recipient</a>] -&gt; ShowS</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Recipient:RecipientC:4" class="instance expander" onclick="toggleSection('i:id:Recipient:RecipientC:4')"></span> <a href="Bot-Msg.html#t:RecipientC">RecipientC</a> <a href="Bot-Msg.html#t:Recipient">Recipient</a></span> <a href="#t:Recipient" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Recipient:RecipientC:4" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fromR">fromR</a> :: <a href="Bot-Msg.html#t:Recipient">Recipient</a> -&gt; <a href="Bot-Msg.html#t:Recipient">Recipient</a> <a href="#v:fromR" class="selflink">#</a></p><p class="src"><a href="#v:toR">toR</a> :: <a href="Bot-Msg.html#t:Recipient">Recipient</a> -&gt; <a href="Bot-Msg.html#t:Recipient">Recipient</a> <a href="#v:toR" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><h2 id="g:4">Client message</h2><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:CMsg" class="def">CMsg</a> <a href="#t:CMsg" class="selflink">#</a></p><div class="doc"><p>Message that will be sent by the bot. The structure is fairly barebones
 because it's not going to be parsed; whatever is sending the message can
 implement the structure correctly itself, or a helper function in <code>Bot</code>
 can handle that.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:CMsg" class="def">CMsg</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:command" class="def">command</a> :: <a href="Bot-Msg.html#t:ClientCmd">ClientCmd</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:argsC" class="def">argsC</a> :: [String]</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><p id="control.i:CMsg" class="caption collapser" onclick="toggleSection('i:CMsg')">Instances</p><div id="section.i:CMsg" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:CMsg:Show:1" class="instance expander" onclick="toggleSection('i:id:CMsg:Show:1')"></span> Show <a href="Bot-Msg.html#t:CMsg">CMsg</a></span> <a href="#t:CMsg" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:CMsg:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Bot-Msg.html#t:CMsg">CMsg</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Bot-Msg.html#t:CMsg">CMsg</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Bot-Msg.html#t:CMsg">CMsg</a>] -&gt; ShowS</p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ClientCmd" class="def">ClientCmd</a> <a href="#t:ClientCmd" class="selflink">#</a></p><div class="doc"><p>Commands that will be sent by the bot; deliberately named
 identically to their textual representations, to make serialising easy.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:NICK" class="def">NICK</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:USER" class="def">USER</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:JOIN" class="def">JOIN</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:PONG" class="def">PONG</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:PRIVMSG" class="def">PRIVMSG</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:NAMES" class="def">NAMES</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:WHOIS" class="def">WHOIS</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:WHOWAS" class="def">WHOWAS</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:KICK" class="def">KICK</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:MODE" class="def">MODE</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:ClientCmd" class="caption collapser" onclick="toggleSection('i:ClientCmd')">Instances</p><div id="section.i:ClientCmd" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:ClientCmd:Show:1" class="instance expander" onclick="toggleSection('i:id:ClientCmd:Show:1')"></span> Show <a href="Bot-Msg.html#t:ClientCmd">ClientCmd</a></span> <a href="#t:ClientCmd" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:ClientCmd:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Bot-Msg.html#t:ClientCmd">ClientCmd</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Bot-Msg.html#t:ClientCmd">ClientCmd</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Bot-Msg.html#t:ClientCmd">ClientCmd</a>] -&gt; ShowS</p></div></div></td></tr></table></div></div></div><h1 id="g:5">Parsing and serialising</h1><div class="top"><p class="src"><a id="v:joinMsg" class="def">joinMsg</a> :: <a href="Bot-Msg.html#t:CMsg">CMsg</a> -&gt; String <a href="#v:joinMsg" class="selflink">#</a></p><div class="doc"><p>Convert a message to a string in the IRC format.</p></div></div><div class="top"><p class="src"><a id="v:readMsg" class="def">readMsg</a> :: String -&gt; Either ParseError <a href="Bot-Msg.html#t:SEvent">SEvent</a> <a href="#v:readMsg" class="selflink">#</a></p><div class="doc"><p>Parse a message string in the IRC format.</p></div></div><h1 id="g:6">Parsing internals</h1><div class="top"><p class="src"><a id="v:parseMsg" class="def">parseMsg</a> :: Parser <a href="Bot-Msg.html#t:SEvent">SEvent</a> <a href="#v:parseMsg" class="selflink">#</a></p><div class="doc"><p>The main parser for messages.</p></div></div><div class="top"><p class="src"><a id="v:parseSender" class="def">parseSender</a> :: Parser <a href="Bot-Msg.html#t:Sender">Sender</a> <a href="#v:parseSender" class="selflink">#</a></p><div class="doc"><p>Parse the sender field of a message, which will be a <code>:</code>, followed by
 either a user in the form <code>nick!user@host</code>, or a server in the form <code>host</code>.</p></div></div><div class="top"><p class="src"><a id="v:parseRecipient" class="def">parseRecipient</a> :: Parser <a href="Bot-Msg.html#t:Recipient">Recipient</a> <a href="#v:parseRecipient" class="selflink">#</a></p><div class="doc"><p>Parse a recipient field, which might either be a channel in the form
 <code>#channel-name</code>, or a user in the form <code>nick</code>.</p></div></div><div class="top"><p class="src"><a id="v:parseArgs" class="def">parseArgs</a> :: Parser [String] <a href="#v:parseArgs" class="selflink">#</a></p><div class="doc"><p>Parse the arguments at the end of the message.</p></div></div><div class="top"><p class="src"><a id="v:parseUntil" class="def">parseUntil</a> :: String -&gt; Parser String <a href="#v:parseUntil" class="selflink">#</a></p><div class="doc"><p>Parse until one of the characters in <code>s</code>, or <code>eof</code>.</p></div></div><div class="top"><p class="src"><a id="v:parseWord" class="def">parseWord</a> :: Parser String <a href="#v:parseWord" class="selflink">#</a></p><div class="doc"><p>Parse until one of <code>space</code> <code>:</code> <code>r</code> <code>n</code> <code>eof</code>, and eat a trailing space
 if it's there.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.2</p></div></body></html>